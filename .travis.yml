os: osx
language: swift
osx_image: xcode11

before_install:
  - pod init
  - curl https://gist.githubusercontent.com/sbertix/2e8a618086e1bc50ba57e2cfc443a1ab/raw/cfdb8bc96ce430befef98e14269f7e4d62f13f10/SwiftyInsta.podfile --output Podfile
  - pod install

env:
  matrix:
    - SCHEME='SwiftyInsta.iOS'      SDK='iphonesimulator'
    - SCHEME='SwiftyInsta.macOS'    SDK='macosx'
    - SCHEME='SwiftyInsta.tvOS'     SDK='appletvsimulator'
    - SCHEME='SwiftyInsta.watchOS'  SDK='watchsimulator'
script:
  - xcodebuild clean build -workspace SwiftyInsta.xcworkspace -scheme ${SCHEME} -sdk ${SDK} -configuration Debug | xcpretty -c
